enkf:
  execution:
    batchargs:
      walltime: "00:50:00"
      cores: 120
      exclusive: true
    envcmds:
      - module use /some/path/to/modulefiles
      - module load some_module
      - ulimit -s unlimited
    executable: /path/to/enkf.x
    mpicmd: srun
    stacksize: 300M
    threads: 1
  background_files:
    ensemble_size: 80
    files:
      fv3sar_tile1_{{ '%03d' % member }}_dynvars: "/path/to/previous/fv3_{{ '%03d' % member }}/RESTART/fv_core.res.tile1.nc"
      fv3sar_tile1_{{ '%03d' % member }}_tracer: "/path/to/previous/fv3_{{ '%03d' % member }}/RESTART/fv_tracer.res.tile1.nc"
      fv3sar_tile1_{{ '%03d' % member }}_sfcdata: "/path/to/previous/fv3_{{ '%03d' % member }}/RESTART/sfc_data.nc"
      fv3sar_tile1_{{ '%03d' % member }}_phyvar: "/path/to/previous/fv3_{{ '%03d' % member }}/RESTART/phy_data.nc"
  files_to_copy:
    anavinfo: "{{ platform.gsi_fixdir }}/anavinfo.rrfs_conv_dbz"
    satinfo: "{{ platform.gsi_fixdir }}/global_satinfo.txt"
    convinfo: "{{ platform.gsi_fixdir }}/convinfo.rrfs"
    ozinfo: "{{ platform.gsi_fixdir }}/global_ozinfo.txt"
  files_to_link:
    fv3_coupler.res: "{{ platform.gsi_fixdir }}/RRFS_CONUS_13km/fv3_coupler.res"
    fv3_akbk: "{{ platform.gsi_fixdir }}/RRFS_CONUS_13km/fv3_akbk"
    fv3_grid_spec: "{{ platform.gsi_fixdir }}/RRFS_CONUS_13km/fv3_grid_spec"
    <diagfiles>: !glob "{{ observer.rundir }}/diag*"
  namelist:
    base_file: /path/to/a/run-ready/enkf.nml
  rundir: /path/to/run/dir
platform: 
  scheduler: slurm
  account: wrfruc
user:
  gsi_fixdir: /path/to/gsi/fix/files
